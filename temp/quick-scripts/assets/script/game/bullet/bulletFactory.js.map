{"version":3,"sources":["bulletFactory.ts"],"names":[],"mappings":";;;;;AAAA,uCAAqC;AACrC,uCAAqC;AACrC,uCAAqC;AACrC,uCAAqC;AAE/B,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAA;AAEzC,IAAY,UASX;AATD,WAAY,UAAU;IAClB,eAAe;IACf,qCAAK,CAAA;IACL,eAAe;IACf,qCAAK,CAAA;IACL,eAAe;IACf,qCAAK,CAAA;IACL,eAAe;IACf,qCAAK,CAAA;AACT,CAAC,EATW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QASrB;AAGD;IAA2C,iCAAY;IADvD;QAAA,qEAwCC;QAjCG,kBAAY,GAAgB,EAAE,CAAA;QAE9B,YAAY;QACZ,iBAAW,GAAkB,EAAE,CAAA;;IA8BnC,CAAC;IA5BG,8BAAM,GAAN;QACI,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,CAAC,QAAQ,CAAC,mBAAQ,CAAC,CAAA;QAC1D,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,CAAC,QAAQ,CAAC,mBAAQ,CAAC,CAAA;QAC1D,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,CAAC,QAAQ,CAAC,mBAAQ,CAAC,CAAA;QAC1D,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,EAAE,CAAC,QAAQ,CAAC,mBAAQ,CAAC,CAAA;QAC1D,OAAO;QACP,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC,EAAE,GAAG,CAAC,CAAA;QACvC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC,EAAE,GAAG,CAAC,CAAA;QACvC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC,EAAE,GAAG,CAAC,CAAA;QACvC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC,EAAE,EAAE,CAAC,CAAA;IAC1C,CAAC;IAED,uCAAe,GAAf,UAAiB,IAAgB,EAAE,GAAW;QAC1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC1B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;SACtE;IACL,CAAC;IAED,oCAAY,GAAZ,UAAc,IAAgB,EAAE,GAAY,EAAE,KAAa;QACvD,IAAI,MAAM,GAAwB,SAAS,CAAA;QAC3C,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;YACpC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;SACtE;QACD,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,CAAA;QAC3D,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAA;QAC1B,OAAO,MAAM,CAAA;IACjB,CAAC;IA/BD;QAJC,QAAQ,CAAC;YACN,IAAI,EAAE,CAAC,EAAE,CAAC,MAAM,CAAC;YACjB,OAAO,EAAE,OAAO;SACnB,CAAC;uDAC4B;IANb,aAAa;QADjC,OAAO;OACa,aAAa,CAuCjC;IAAD,oBAAC;CAvCD,AAuCC,CAvC0C,EAAE,CAAC,SAAS,GAuCtD;kBAvCoB,aAAa","file":"","sourceRoot":"../../../../../../assets/script/game/bullet","sourcesContent":["import { Bullet_0 } from \"./bullet_0\"\nimport { Bullet_1 } from \"./bullet_1\"\nimport { Bullet_2 } from \"./bullet_2\"\nimport { Bullet_3 } from \"./bullet_3\"\n\nconst {ccclass, property} = cc._decorator\n\nexport enum BulletType {\n    /** R 型子弹，圆的 */\n    R = 0,\n    /** M 型子弹，月牙 */\n    M = 1,\n    /** F 型子弹，花型 */\n    F = 2,\n    /** B 型子弹，爆破 */\n    B = 3\n}\n\n@ccclass\nexport default class BulletFactory extends cc.Component {\n\n    @property({\n        type: [cc.Prefab],\n        tooltip: \"子弹预制体\"\n    })\n    bulletPrefab: cc.Prefab[] = []\n\n    /** 子弹节点池 */\n    bulletPools: cc.NodePool[] = []\n\n    onLoad (): void {\n        this.bulletPools[BulletType.R] = new cc.NodePool(Bullet_0)\n        this.bulletPools[BulletType.M] = new cc.NodePool(Bullet_1)\n        this.bulletPools[BulletType.F] = new cc.NodePool(Bullet_2)\n        this.bulletPools[BulletType.B] = new cc.NodePool(Bullet_3)\n        // 存入子弹\n        this.putBulletInPool(BulletType.R, 300)\n        this.putBulletInPool(BulletType.M, 200)\n        this.putBulletInPool(BulletType.F, 100)\n        this.putBulletInPool(BulletType.B, 50)\n    }\n\n    putBulletInPool (type: BulletType, num: number): void {\n        for (let i = 0; i < num; i++) {\n            this.bulletPools[type].put(cc.instantiate(this.bulletPrefab[type]))\n        }\n    }\n\n    createBullet (type: BulletType, dir: cc.Vec2, speed: number): cc.Node {\n        let bullet: cc.Node | undefined = undefined\n        if (this.bulletPools[type].size() <= 0) {\n            this.bulletPools[type].put(cc.instantiate(this.bulletPrefab[type]))\n        }\n        bullet = this.bulletPools[type].get(this, dir, speed, type)\n        this.node.addChild(bullet)\n        return bullet\n    }\n\n}\n"]}